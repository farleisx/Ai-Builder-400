<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AI Builder - Login</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<style>
body { font-family: 'Inter', sans-serif; background: #f5f5f7; display:flex; justify-content:center; align-items:center; height:100vh; margin:0;}
.container { background:#fff; padding:2rem; border-radius:10px; box-shadow:0 4px 15px rgba(0,0,0,0.1); width:320px;}
h2 { margin-bottom:1rem; color:#6a0dad;}
input { width:100%; padding:0.5rem; margin-bottom:1rem; border:1px solid #ccc; border-radius:5px;}
button { width:100%; padding:0.5rem; border:none; border-radius:5px; background:#6a0dad; color:#fff; font-weight:600; cursor:pointer;}
button.secondary { background:#ccc; color:#000; margin-top:0.5rem;}
.error { color:red; margin-bottom:1rem; font-size:0.9rem;}
hr { margin:1rem 0; border:0; border-top:1px solid #eee;}
</style>
</head>
<body>

<div class="container">
  <h2>Sign In</h2>
  <input id="signin-username" placeholder="Username">
  <input id="signin-password" type="password" placeholder="Password">
  <div id="signin-error" class="error"></div>
  <button onclick="signin()">Sign In</button>

  <hr>

  <h2>Sign Up</h2>
  <input id="signup-username" placeholder="Username">
  <input id="signup-password" type="password" placeholder="Password">
  <div id="signup-error" class="error"></div>
  <button onclick="signup()">Sign Up</button>
</div>

<script>
const API_URL = "https://ai-builder-400.vercel.app/api"; // replace with your deployed API

async function signup(){
  const username = document.getElementById('signup-username').value;
  const password = document.getElementById('signup-password').value;
  document.getElementById('signup-error').textContent = '';
  if(!username||!password){ document.getElementById('signup-error').textContent='Fill both fields'; return;}

  try{
    const res = await fetch(`${API_URL}/signup`,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({username,password})
    });
    const data = await res.json();
    if(res.ok){ alert('Signup successful! Please login.'); }
    else { document.getElementById('signup-error').textContent = data.message;}
  }catch(e){ document.getElementById('signup-error').textContent="Server error";}
}

async function signin(){
  const username = document.getElementById('signin-username').value;
  const password = document.getElementById('signin-password').value;
  document.getElementById('signin-error').textContent='';
  if(!username||!password){ document.getElementById('signin-error').textContent='Fill both fields'; return;}

  try{
    const res = await fetch(`${API_URL}/signin`,{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({username,password})
    });
    const data = await res.json();
    if(res.ok){
      localStorage.setItem('username', username);
      window.location.href = "dashboard.html";
    } else { document.getElementById('signin-error').textContent = data.message;}
  }catch(e){ document.getElementById('signin-error').textContent="Server error";}
}
</script>
</body>
</html>
